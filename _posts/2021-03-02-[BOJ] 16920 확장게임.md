---
title: '[BOJ] 16920 í™•ì¥ê²Œì„'
categories:
  - Algorithm
tags:
  - Java
  - BFS
  - BOJ

comments: true 
---
### BFS ì˜ˆì œ

## ë¬¸ì œ
<a href = "https://www.acmicpc.net/problem/16920"> https://www.acmicpc.net/problem/16920 </a>
<br/>

## ë¬¸ì œ í’€ì´

``` java
package Baekjoon.Graph.Search;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

/**
 * Created by kyeahen.
 * Title : 16920 í™•ì¥ê²Œì„
 * Category : bfs
 * Date: 2021-03-02
 */
public class BJ_16920 {

    static class Player {
        int index; //í”Œë ˆì´ì–´ index
        int cnt; //í”Œë ˆì´ì–´ê°€ ì†Œìœ í•œ ì„±ì˜ ê°œìˆ˜
        Queue<Point> points; //í”Œë ˆì´ì–´ê°€ ì†Œìœ í•œ ì„±ì˜ ì¢Œí‘œ (ë¼ìš´ë“œë³„ ê°±ì‹ )

        Player(int index, int cnt, Queue<Point> points) {
            this.index = index;
            this.cnt = cnt;
            this.points = points;
        }
    }

    static class Point {
        int x;
        int y;

        Point(int x, int y) {
            this.x = x;
            this.y = y;
        }
    }

    static int N, M, P;

    static char[][] map;
    static boolean[][] visited;

    static int[] dx = {0, 0, 1, -1};
    static int[] dy = {1, -1, 0, 0};

    static Player[] players; //í”Œë ˆì´ì–´ ë°°ì—´
    static int[] move_arr; //í”Œë ˆì´ì–´ë³„ ì´ë™ ê°€ëŠ¥í•œ ì¹¸ ìˆ˜

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken());
        M = Integer.parseInt(st.nextToken());
        P = Integer.parseInt(st.nextToken()); //í”Œë ˆì´ì–´ ìˆ˜

        //í”Œë ˆì´ì–´ iëŠ” ìì‹ ì˜ ì„±ì˜ ìˆëŠ” ê³³ì—ì„œ Sì¹¸ ë§Œí¼ ì´ë™í•  ìˆ˜ ìˆëŠ” "ëª¨ë“  ì¹¸"ì— ì„±ì„ ë™ì‹œì— ë§Œë“ ë‹¤.
        move_arr = new int[P + 1];

        st = new StringTokenizer(br.readLine());
        for (int i = 1; i <= P; i++) {
            move_arr[i] = Integer.parseInt(st.nextToken());
        }

        players = new Player[P + 1];
        for (int i = 1; i <= P; i++) {
            players[i] = new Player(i, 0, new LinkedList<>());
        }

        map = new char[N][M];
        visited = new boolean[N][M];

        //. = ë¹ˆì¹¸, # = ë²½
        for (int i = 0; i < N; i++) {
            String str = br.readLine();
            for (int j = 0; j < M; j++) {
                map[i][j] = str.charAt(j);

                if (map[i][j] != '.' && map[i][j] != '#') { //í”Œë ˆì´ì–´ì¼ ë•Œ
                    int idx = map[i][j] - '0'; //í”Œë ˆì´ì–´ index

                    Queue<Point> q = players[idx].points;
                    q.offer(new Point(i, j)); //ì„± ì¢Œí‘œ ì¶”ê°€
                    visited[i][j] = true;

                    players[idx] = new Player(idx, players[idx].cnt + 1, q); //ì„±ì˜ ê°œìˆ˜ ë° ì¢Œí‘œ ê°±ì‹ 
                }
            }
        }

        while (true) {

            if (isFinish()) { break; } //ê²Œì„ ì¢…ë£Œ

            for (int i = 1; i < players.length; i++) {
                bfs(players[i]);
            }
        }

        //ì •ë‹µ ì¶œë ¥
        for (int i = 1; i < players.length; i++) {
            System.out.print(players[i].cnt + " ");
        }
        
    }

    //ëª¨ë“  í”Œë ˆì´ì–´ê°€ ë”ì´ìƒ í™•ì¥í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì¸ì§€ í™•ì¸ (ê²Œì„ ì¢…ë£Œ)
    public static boolean isFinish() {

        for (int i = 1; i < players.length; i++) {

            //ë¹„ì–´ìˆì§€ ì•Šì€ íê°€ ìˆìœ¼ë©´ (ì•„ì§ í™•ì¥ ê°€ëŠ¥í•œ ìƒíƒœ)
            if (!players[i].points.isEmpty()) {
                return false;
            }
        }

        return true;
    }

    //ê° í”Œë ˆì´ì–´ì˜ ì„±ì´ ì›€ì§ì´ëŠ” bfs
    // - ì„±ì˜ ê°œìˆ˜ë‘ í˜„ì¬ ì„±ì˜ ì¢Œí‘œë“¤ì„ ë¦¬ìŠ¤íŠ¸ì— ì €ì¥
    public static void bfs(Player player) {
        Queue<Point> q = player.points; //í”Œë ˆì´ì–´ê°€ ì†Œìœ í•œ ì„±ì˜ ì¢Œí‘œë¥¼ ë‹´ì€ í (ë¼ìš´ë“œë§ˆë‹¤ ê°±ì‹ )
        int index = player.index; //í”Œë ˆì´ì–´ index

        int cnt = player.cnt; //í”Œë ˆì–´ì–´ê°€ ì†Œìœ í•œ ì„±ì˜ ìˆ˜
        int dist = 1; //í”Œë ˆì´ì–´ê°€ ì´ë™í•  ìˆ˜ ìˆëŠ” ì¹¸ì˜ ìˆ˜
        while (!q.isEmpty()) {

            int size= q.size();
            for (int j = 0; j < size; j++) {
                Point p = q.poll();

                for (int i = 0; i < 4; i++){

                    int nx = dx[i] + p.x;
                    int ny = dy[i] + p.y;

                    if (!isRange(nx, ny) || visited[nx][ny]) { continue; }
                    if (map[nx][ny] != '.') { continue; }; //ë²½, ìˆ«ì

                    q.offer(new Point(nx, ny));
                    visited[nx][ny] = true;
                    cnt++;
                }
            }

            dist++; //Sì¹¸ë§Œí¼ ì´ë™
            if (dist > move_arr[index]) { break; }
        }

        player.cnt = cnt; //ì„±ì˜ ê°œìˆ˜ ê°±ì‹ 
    }

    //ë°°ì—´ ìœ íš¨ ë²”ìœ„ ì²´í¬
    public static boolean isRange(int nx, int ny) {
        if (0 <= nx && nx < N && 0 <= ny && ny < M) {
            return true;
        }

        return false;
    }

    public static void print() {
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < M; j++) {
                System.out.print(map[i][j]);
            }
            System.out.println();
        }
    }

}
```

## TMI

**21/03/03: ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë”” ë¬¸ì œ í’€ì´ğŸ¤“**
