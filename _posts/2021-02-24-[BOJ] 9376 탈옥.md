---
title: '[BOJ] 9376 íƒˆì˜¥'
categories:
  - Algorithm
tags:
  - Java
  - BFS
  - Graph
  - BOJ

comments: true 
---
### BFS + ë‹¤ìµìŠ¤íŠ¸ë¼ ì˜ˆì œ

## ë¬¸ì œ
<a href = "https://www.acmicpc.net/problem/9376"> https://www.acmicpc.net/problem/9376 </a>
<br/>

## ë¬¸ì œ í’€ì´

``` java
package Baekjoon.Graph;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;

/**
 * Created by kyeahen.
 * Title : 9376 íƒˆì˜¥
 * Category : bfs, ë‹¤ìµìŠ¤íŠ¸ë¼
 * Date: 2021/02/24
 */
public class BJ_9376 {

    static class Point {
        int x;
        int y;

        Point (int x, int y) {
            this.x = x;
            this.y = y;
        }
    }

    static int TC;

    static int h, w;
    static char[][] map;

    static int[] dx = {0, 0, 1, -1};
    static int[] dy = {1, -1, 0, 0};

    /*
    ì£„ìˆ˜ 2ëª…ì„ íƒˆì˜¥ì‹œí‚¤ëŠ” ë°©ë²• 3ê°€ì§€
    - ì£„ìˆ˜ 1ì´ ì£„ìˆ˜ 2ë¥¼ ë°ë¦¬ê³  ë°”ê¹¥ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²½ìš°
    - ì£„ìˆ˜ 2ê°€ ì£„ìˆ˜ 1ì„ ë°ë¦¬ê³  ë°”ê¹¥ìœ¼ë¡œ ë‚˜ê°€ëŠ” ê²½ìš°
    - ìƒê·¼ì´ê°€ ì£„ìˆ˜ 1, 2ë¥¼ íƒˆì¶œì‹œí‚¤ëŠ” ê²½ìš°

    ìœ„ ê²½ìš°ê°€ ë™ì‹œì— ì‹¤í–‰ë˜ë©´
    3ëª…ì„ ê°ì ë¬¸ì„ ì—´ë©´ì„œ íƒìƒ‰í•  ê²ƒì´ê³ , ì–´ëŠ ì§€ì ì—ì„œ ë§Œë‚˜ê²Œ ë  ê²ƒì´ë‹¤.
    ê·¸ ì‹œì ì—ì„œ íƒˆì˜¥ì´ ì™„ë£Œë˜ì—ˆë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

    ì–´ëŠ ì§€ì ì—ì„œ ë§Œë‚˜ê²Œ ë ì§€ ëª¨ë¥´ê¸° ë•Œë¬¸ì— ë§µì˜ ëª¨ë“  ì§€ì ì„ ì¡°ì‚¬í•´ì•¼í•˜ê³ 
    ê° ì§€ì ë§ˆë‹¤ 3ëª…ì´ ë¬¸ì„ ëª‡ê°œ ì—´ê³  ì™”ëŠ”ì§€ í•©ì‚°í•œë‹¤.
    ê·¸ë¦¬ê³  ê·¸ ì¤‘ ê°€ì¥ ìµœì†Ÿê°’ì´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë‹µì´ëœë‹¤.
    ë‹¨, ë§Œë‚˜ëŠ” ì§€ì ì´ ë¬¸ì¸ ê²½ìš° -2ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤. (3ëª…ì´ ë™ì‹œì— ë¬¸ì„ ì—´ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸ì„)

    ìœ„ 3ê°€ì§€ ê²½ìš°ì˜ BFSë¥¼ ëŒë ¤ 3ê°œì˜ dist[][]ë¥¼ ì™„ì„±ì‹œí‚¨ í›„, í•©í•œë‹¤.
    ê° ì§€ì ë§ˆë‹¤ ì¡°ì‚¬í•˜ë©´ì„œ ìµœì†Ÿê°’ì„ êµ¬í•œë‹¤.
     */

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));

        TC = Integer.parseInt(br.readLine());

        while (TC-- > 0) {
            StringTokenizer st = new StringTokenizer(br.readLine());

            h = Integer.parseInt(st.nextToken()); //ë†’ì´
            w = Integer.parseInt(st.nextToken()); //ë„ˆë¹„

            /* - [ë§µì„ 2ì¹¸ ë” í¬ê²Œ ë°›ëŠ” ì´ìœ ]
             3ê°€ì§€ ì¡°ê±´ ì¤‘ "ìƒê·¼ì´ê°€ ì£„ìˆ˜ë¥¼ êº¼ë‚´ëŠ” ê²½ìš°"ë¥¼ ìƒê°í•˜ë©´
             ìƒê·¼ì´ëŠ” ê°ì˜¥ ë°–ì„ ììœ ë¡­ê²Œ ì´ë™í•  ìˆ˜ ìˆë‹¤ëŠ” ë¬¸ì œ ì¡°ê±´ì´ ìˆë‹¤.
             ì´ëŠ” ê°ì˜¥ì˜ ìƒí•˜ì¢Œìš° ì–´ë””ì„œëŠ” ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.
             ì´ë¥¼ ìœ„í•´ ê¸°ì¡´ ë§µì— ì™¸ë¶€ ê³µê°„ì„ ì¶”ê°€í•´ì¤€ë‹¤.
            */
            map = new char[h + 2][w + 2];

            Point sangeun = new Point(0, 0); //ìƒê·¼
            Point[] prisoners = new Point[2]; //ì£„ìˆ˜ 2ëª…

            for (int i = 0; i < h + 2; i++) {
                for (int j = 0; j < w + 2; j++) {
                    map[i][j] = '.';
                }
            }

            //. : ë¹ˆê³µê°„ , * : ë²½, # : ë¬¸, $ : ì£„ìˆ˜
            int idx = 0;
            for (int i = 1; i <= h; i++) {

                String str = br.readLine();
                for (int j = 1; j <= w; j++) {
                    map[i][j] = str.charAt(j - 1);

                    if (map[i][j] == '$') { //ì£„ìˆ˜
                        prisoners[idx] = new Point(i, j);
                        idx++;
                    }
                }
            }

            int[][] dist1 = bfs(sangeun);
            int[][] dist2 = bfs(prisoners[0]); //ì£„ìˆ˜1 íƒˆì¶œ
            int[][] dist3 = bfs(prisoners[1]); //ì£„ìˆ˜2 íƒˆì¶œ

            /*
            ê° ì§€ì ë§ˆë‹¤ 3ëª…ì´ ë¬¸ì„ ëª‡ê°œ ì—´ê³  ì™”ëŠ”ì§€ í•©ì‚°í•œë‹¤.
            ê·¸ë¦¬ê³  ê·¸ ì¤‘ ê°€ì¥ ìµœì†Ÿê°’ì´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë‹µì´ëœë‹¤.
             */
            int[][] ans_dist = new int[h + 2][w + 2];
            for (int i = 0; i < h + 2; i++) {
                for (int j = 0; j < w + 2; j++) {
                    ans_dist[i][j] = dist1[i][j] + dist2[i][j] + dist3[i][j];
                }
            }

            int ans = Integer.MAX_VALUE;
            for (int i = 0; i < h + 2; i++) {
                for (int j = 0; j < w + 2; j++) {
                    if (map[i][j] == '*') { continue; } //ë²½

                    if (map[i][j] == '#') { //ë¬¸
                        ans_dist[i][j] -= 2;
                        // ë‹¨, ë§Œë‚˜ëŠ” ì§€ì ì´ ë¬¸ì¸ ê²½ìš° -2ë¥¼ í•´ì¤˜ì•¼ í•œë‹¤.
                        // - 3ëª…ì´ ë™ì‹œì— ë¬¸ì„ ì—´ì§€ ì•Šì•„ë„ ë˜ê¸° ë•Œë¬¸
                    }

                    ans = Math.min(ans, ans_dist[i][j]); //ìµœì†Ÿê°’
                }
            }

            System.out.println(ans);
        }

    }

    //ë‹¤ìµìŠ¤íŠ¸ë¼ ì ìš©
    public static int[][] bfs(Point p) {
        int[][] dist = new int[h + 2][w + 2]; //ê° ì‚¬ëŒì´ ì—° ë¬¸ì˜ ê°œìˆ˜ ì €ì¥

        for (int i = 0; i < h + 2; i++) { //ë°°ì—´ ì´ˆê¸°í™”
            Arrays.fill(dist[i], Integer.MAX_VALUE);
        }

        Queue<Point> q = new LinkedList<>();
        q.offer(p);
        dist[p.x][p.y] = 0; //ì´ˆê¸° ê°œìˆ˜ëŠ” 0ê°œ

        while (!q.isEmpty()) {
            Point point = q.poll();

            for (int i = 0; i < 4; i++) {
                int nx = dx[i] + point.x;
                int ny = dy[i] + point.y;

                if (0 <= nx && nx < h + 2 && 0 <= ny && ny < w + 2) {

                    //ë²½ì´ë©´ ê±´ë„ˆë›°ê¸°
                    if (map[nx][ny] == '*') { continue; };

                    //ë¬¸ì´ ì•„ë‹ˆë©´ ê¸°ì¡´ì˜ ê°’ì„ ê°€ì§€ê³  ê°„ë‹¤. (ë¹ˆê³µê°„ . or ì£„ìˆ˜ $)
                    if (map[nx][ny] != '#') {
                        if (dist[nx][ny] == Integer.MAX_VALUE || dist[nx][ny] > dist[point.x][point.y]) {
                            dist[nx][ny] = dist[point.x][point.y];
                            q.offer(new Point(nx, ny));
                        }
                    } else { //ë¬¸ì´ë©´ ê°œìˆ˜ ì¦ê°€
                        if (dist[nx][ny] == Integer.MAX_VALUE || dist[nx][ny] > dist[point.x][point.y] + 1) {
                            dist[nx][ny] = dist[point.x][point.y] + 1;
                            q.offer(new Point(nx, ny));
                        }
                    }
                }
            }
        }

        return dist;
    }
}
```

## TMI

**21/03/03: ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë”” ë¬¸ì œ í’€ì´ğŸ¤“**
