---
title: '[BOJ] 16986 ì¸ì‹¸ë“¤ì˜ ê°€ìœ„ë°”ìœ„ë³´'
categories:
  - Algorithm
tags:
  - Java
  - BruteForce
  - BOJ

comments: true 
---
### ì™„ì „íƒìƒ‰ ì˜ˆì œ

## ë¬¸ì œ
<a href = "https://www.acmicpc.net/problem/16986"> https://www.acmicpc.net/problem/16986 </a>
<br/>

## ë¬¸ì œ í’€ì´

``` java
package Baekjoon.BruteForce;

import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

/**
 * Created by kyeahen.
 * Title : 16986 ì¸ì‹¸ë“¤ì˜ ê°€ìœ„ë°”ìœ„ë³´
 * Category : êµ¬í˜„ (ìˆœì—´, dfs)
 * Date: 2021/02/16
 */
public class BJ_16986 {

    final static int PLAYER_NUM = 3;
    final static int GAME_NUM = 20;

    static int N, K;
    static int[][] map, player;
    static boolean[] visited;
    static int[] win_count, hand_idx;

    static int flag = 0; //ê²½ê¸° ê²°ê³¼ (1: ìš°ìŠ¹, 0: ì‹¤íŒ¨)

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());

        N = Integer.parseInt(st.nextToken()); //ê°€ìœ„ë°”ìœ„ë³´ì˜ ì†ë™ì‘ ìˆ˜
        K = Integer.parseInt(st.nextToken()); //ìš°ìŠ¹ì„ ìœ„í•´ í•„ìš”í•œ ìŠ¹ìˆ˜

        map = new int[N + 1][N + 1]; //ìƒì„±ì— ëŒ€í•œ ì •ë³´

        /*
            2 : ië²ˆì´ jë²ˆ ì†ë™ì‘ ì´ê¹€
            1 : ë¹„ê¸´ë‹¤
            0 : ië²ˆì´ jë²ˆ ì†ë™ì‘ ì§
         */
        for (int i = 1; i <= N; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 1; j <= N; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        player = new int[PLAYER_NUM + 1][GAME_NUM];  //ê° í”Œë ˆì´ì–´ê°€ 20ê²½ê¸°ì—ì„œ ë‚¼ ì†ë™ì‘ ì •ë³´
        // - 1 : ì§€ìš°, 2: ê²½í¬, 3: ë¯¼í˜¸

        visited = new boolean[N + 1]; //ì†ë™ì‘ ë°©ë¬¸ ì²´í¬ ë°°ì—´

        //ê²½í¬ ì†ë™ì‘
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < GAME_NUM; i++) {
            player[2][i] = Integer.parseInt(st.nextToken());
        }

        //ë¯¼í˜¸ ì†ë™ì‘
        st = new StringTokenizer(br.readLine());
        for (int i = 0; i < GAME_NUM; i++) {
            player[3][i] = Integer.parseInt(st.nextToken());
        }

        permutation(0);

        System.out.println(flag);
    }

    //ì§€ìš°ê°€ ë‚¼ ìˆ˜ ìˆëŠ” nê°œì˜ ì†ë™ì‘ì„ ìˆœì—´ë¡œ êµ¬í˜„
    public static void permutation(int count) {
        if (flag == 1) { return; } //ìš°ìŠ¹

        if (count == N) {
            flag = 0; //ì´ˆê¸°í™”
            win_count = new int[PLAYER_NUM + 1]; //ê° í”Œë ˆì´ì–´ì˜ ìŠ¹ìˆ˜ ì¹´ìš´íŒ…
            hand_idx = new int[PLAYER_NUM + 1]; //ê° í”Œë ˆì´ì–´ì˜ ì†ë™ì‘ ë²ˆí˜¸ ì €ì¥

            if (dfs(1, 2) == 1) { //ìš°ìŠ¹
                flag = 1;
            }

            return;
        }

        for (int i = 1; i <= N; i++) {
            if (!visited[i]) {
                visited[i] = true;
                player[1][count] = i; //ì†ë™ì‘ ì €ì¥ - ì§€ìš°

                permutation(count + 1);
                if (flag == 1) { return; } //ìš°ìŠ¹

                //ë°±íŠ¸ë˜í‚¹
                player[1][count] = 0;
                visited[i] = false;
            }
        }
    }

    //ê²½ê¸° ì‹œë®¬ë ˆì´ì…˜
    public static int dfs(int p1, int p2) {

        if (win_count[1] >= K) { //ì§€ìš°ê°€ ìŠ¹ìˆ˜ ì±„ì› ì„ ë•Œ
            return 1;
        }

        if (win_count[2] >= K || win_count[3] >= K) { //ê²½í¬, ë¯¼í˜¸ê°€ ìŠ¹ìˆ˜ ì±„ì› ì„ ë•Œ
            return 0;
        }

        if (hand_idx[1] >= N) { //ì†ë™ì‘ ë²ˆí˜¸ ì´ˆê³¼í–ˆì„ ì‹œ
            return 0;
        }

        //í•´ë‹¹ ê²½ê¸°ì— ì°¸ì—¬í•˜ì§€ ì•Šì€ í”Œë ˆì´ì–´ ì°¾ê¸° (ë‹¤ìŒ ê²½ê¸° í”Œë ˆì´ì–´)
        int next_player = 0;
        for (int i = 1; i <= PLAYER_NUM; i++) {
            if (p1 == i || p2 == i) {
                continue;
            }

            next_player = i;
        }

        int a = player[p1][hand_idx[p1]]; //p1ê°€ í•´ë‹¹ ê²½ê¸° ìˆœì„œì— ë‚¼ ì†ë™ì‘
        int b = player[p2][hand_idx[p2]]; //p2ê°€ í•´ë‹¹ ê²½ê¸° ìˆœì„œì— ë‚¼ ì†ë™ì‘
        int result = map[a][b]; //í˜„ì¬ ê²½ê¸° ê²°ê³¼

        //í”Œë ˆì´ì–´ë“¤ì˜ ì†ë™ì‘ ë²ˆí˜¸ ì¦ê°€
        hand_idx[p1]++;
        hand_idx[p2]++;

        if (result == 2) { //p1 ìŠ¹ë¦¬
            win_count[p1]++;

            // "íŠ¹ì • ì‚¬ëŒì´ ë¯¸ë¦¬ í•©ì˜ëœ ìŠ¹ìˆ˜ë¥¼ ë‹¬ì„±í•  ë•Œ ê¹Œì§€ 3ì„ ë°˜ë³µí•œë‹¤." (dfs)
            if (dfs(p1, next_player) == 1) {
                return 1;
            }

        } else if (result == 0) { //p2 ìŠ¹ë¦¬
            win_count[p2]++;

            if (dfs(p2, next_player) == 1) {
                return 1;
            }

        } else { //ë¬´ìŠ¹ë¶€

            // "ë¬´ìŠ¹ë¶€ê°€ ë°œìƒí•  ê²½ìš° ê²½ê¸° ì§„í–‰ ìˆœì„œìƒ ë’¤ì¸ ì‚¬ëŒì´ ì´ê¸´ ê²ƒìœ¼ë¡œ ê°„ì£¼í•œë‹¤."
            if (p1 > p2) { //p1 - ë’·ë²ˆí˜¸
                win_count[p1]++;

                if (dfs(p1, next_player) == 1) {
                    return 1;
                }

            } else { //p2 - ë’·ë²ˆí˜¸
                win_count[p2]++;

                if (dfs(p2, next_player) == 1) {
                    return 1;
                }
            }
        }

        return 0;
    }
}
```

## TMI

**21/02/17: ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë”” ë¬¸ì œ í’€ì´ğŸ¤“**
